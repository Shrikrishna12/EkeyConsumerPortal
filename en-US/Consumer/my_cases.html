<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="robots" content="index, follow" />
    <meta name="keywords" content="TRA, Bahrain telecommunications, telecom consumer dispute, telecom complaints, submit complaint, consumer portal" />
    <meta name="description" content="Maintaining effective communication between TRA, consumers and the telecommunications service providers." />

    <!-- ================= Favicons ================== -->
    <!-- Standard -->
    <link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link rel="shortcut icon" href="../images/favicon.png">
    <!-- Retina iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="144x144" href="../images/favicon-retina-ipad.png">
    <!-- Retina iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="114x114" href="../images/favicon-retina-iphone.png">
    <!-- Standard iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="72x72" href="../images/favicon-standard-ipad.png">
    <!-- Standard iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="57x57" href="../images/favicon-standard-iphone.png">

    <title>My Cases - Consumer Portal | Telecommunications Regulatory Authority, Kingdom of Bahrain</title>

    <!--=============== css  ===============-->
    <!-- Reset CSS -->
    <link href="../css/reset.css" rel="stylesheet">
    <!-- Bootstrap -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- jQuery UI -->
    <link rel="stylesheet" type="text/css" href="../css/jquery-ui.css">

    <link rel="stylesheet" type="text/css" href="../css/dataTables.bootstrap.css">

    <!-- Main CSS -->
    <link href="../css/style.css" rel="stylesheet">
    <link href="../css/form-style.css" rel="stylesheet">
    <link href="../css/form-style2.css" rel="stylesheet">

    <!-- Selectize -->
    <link rel="stylesheet" href="../css/selectize.default.css">

    <!--<link href="css/style-02.css" rel="stylesheet">-->
    <link href="../css/megamenu.css" rel="stylesheet">
    <link href="../css/navik.menu.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/flaticon.css" rel="stylesheet">

    <!-- Owl Stylesheets -->
    <link rel="stylesheet" href="../assets/owlcarousel/assets/owl.carousel.min.css">
    <!--<link rel="stylesheet" href="assets/owlcarousel/assets/owl.theme.default.min.css">-->
    <!-- FancyBox -->
    <link href="../css/jquery.fancybox.css" rel="stylesheet">

    <!-- DateTime Picker -->
    <link href="../css/bootstrap-datetimepicker.css" rel="stylesheet">

    <!-- Sweet Alert -->
    <link rel="stylesheet" href="../css/sweetalert2.css">

    <!-- Dropzone -->
    <link rel="stylesheet" href="../css/dropzone.css">

    <!-- Tooltip -->
    <link rel="stylesheet" type="text/css" href="../css/tooltipster.bundle.css" />
    <link rel="stylesheet" type="text/css" href="../css/tooltipster-follower.css" />
    <link rel="stylesheet" type="text/css" href="../css/tooltipster-sideTip-shadow.min.css" />

    <style type="text/css">
        .pointer1:hover {
            cursor: pointer;
        }

        .pointer1 {
            color: #7fbc03;
            font-family: 'Familiar Pro';
            font-weight: bold;
            letter-spacing: 0;
            font-size: 16px;
        }
     .overlay {
        position: fixed;
        top:0;
        display: none;
        z-index: 1000;
        height: 100%;
    
         background: rgba(33, 33, 33, 0.6);
        width: 100%;
     
     
      }
       #spnId{
          top:45%;
          left:45%;
          position:fixed;
       }

      span.active{
          color:yellowgreen;
          font-weight:bold;
      }
      span.rejected{
          color:darkslateblue;
          font-weight:bold;
      }
      span.closed{
          color:orangered;
          font-weight:bold;
      }
     
    </style>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->
    <!--[if gte IE 9]
    <style type="text/css"> .gradient { filter: none; } </style>
    <![endif]-->

    <script src="../js/modernizr.js"></script> <!-- Modernizr runs quickly on page load to detect features -->
    <script src="../js/scrollreveal.js"></script> <!-- ScrollReveal -->

</head>


<body>

    <!-- *** LOADING *** -->
    <!-- Clean fade-in effect for webpage -->
    <script>document.body.className += ' fade-out';</script>

    <!-- *** / LOADING *** -->

    <div id="page d-flex align-items-stretch">


        <!--==============================================
            Header Area
        ===============================================-->

        <div class="cd-main-header">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">

                        <ul class="cd-header-buttons">

                            <li><a class="hotline" href="tel:81188"><span class="hotlinenumber">81188</span> <span class="des">(Consumer Contact Center)</span></a></li>
                            <li><a class="language-switch" id="langSwitch4" href="#">عربي</a></li>

                        </ul> <!-- cd-header-buttons -->
                    </div>

                </div>
            </div>
        </div>

        <div class="navik-header header-shadow navik-mega-menu mega-menu-fullwidth">
            <div class="container">

                <!-- Navik header -->
                <div class="navik-header-container">

                    <!--Logo-->
                    <div class="logo" data-mobile-logo="../images/TRA-logo.png" data-sticky-logo="../images/TRA-sticky-logo.png">
                        <a href="#" id="ahref20"><img src="../images/TRA-logo.png" alt="TRA logo" /></a>
                    </div>

                </div>

            </div>
        </div>

        <main>

            <nav id="sidebar" class="active">
                <div class="custom-menu">
                    <button type="button" id="sidebarCollapse" class="btn btn-primary"><span class="sr-only">Toggle Menu</span></button>
                </div>
                <div class="p-4">

                    <h1>
                        <a href="#" id="ahref19" class="logo-inverse"><img src="../images/tra-logo-inverse.png" alt="TRA logo" /></a>
                        <span id="spnmycase"></span>
                    </h1>

                    <ul class="list-unstyled components mb-5" id="myCaseUi">
                        <li><a href="dashboard.html"><span class="fa fa-th"></span>Dashboard</a></li>
                        <li><a href="createCase.html"><span class="fa fa-pencil-square-o"></span>Submit a Case</a></li>
                        <li class="active"><a href="my_cases.html"><span class="fa fa-file-text-o"></span>My Cases</a></li>
                        <li><a href="my-profile.html"><span class="fa fa-user-o"></span>My Profile</a></li>
                        <li><a href="https://www.tra.org.bh/en/category/faqs" target="_blank"><span class="fa fa-question-circle-o"></span>FAQs</a></li>
                        <li><a href="https://www.tra.org.bh/en/" target="_blank"><span class="fa fa-external-link"></span>TRA Website</a></li>
                        <li><a href="#" id="logOut"><span class="fa fa-power-off"></span>Logout</a></li>
                    </ul>

                </div>
            </nav>

            <section class="formsection">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">

                            <div class="formcontainer">

                                <div class="row">

                                    <div class="col-md-12">
                                        <div class="main-title">
                                            <div class="icon-case"><span class="fa fa-files-o"></span></div>
                                            <h2 class="fs-title text-center mb20">My Cases</h2>
                                            <p class="text-center pb0">Explore your previous cases in the below table. Click on the reference number for more details.</p>
                                        </div>
                                    </div>

                                    <div class="col-md-12">

                                        <table id="case-table" class="table table-striped table-bordered order-column" style="width:100%">
                                            <thead>
                                                <tr>

                                                    <th>No.</th>
                                                    <th>Case Reference No.</th>
                                                    <th>Date Submited</th>
                                                    <th>Type</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>

                                        </table>

                                    </div>



                                </div>

                            </div>

                        </div>
                    </div>
                </div>

            </section><!-- END formsection -->

            <div class="clearfix"></div>

        </main><!--main -END -->
        <!--==============================================
            Footer Section
        ===============================================-->
        <footer>
            <div class="container">

                <div class="row">

                    <div class="col-md-4 col-md-push-4 col-sm-6 col-xs-12">
                        <ul class="footer-logos">
                            <li><a href="https://www.bahrain.bh/wps/portal/QuickLinks_en?current=true&urile=wcm:path:egovportal_en/LANDING%20PAGES/Bahrain2030" target="_blank"><img src="../images/2030.png" width="65" height="60" alt="Bahrain 2030"></a></li>
                        </ul>
                    </div>

                    <div class="col-md-4 col-md-push-4 col-sm-6 col-xs-12">
                        <div class="social-txt">Connect with us :</div>
                        <ul class="social-icons">
                            <li><a href="https://www.instagram.com/trabahrain/" target="_blank"><i class="fa fa-instagram" aria-hidden="true"></i><span class="sr-only">TRA Instagram</span></a></li>
                            <li><a href="https://twitter.com/trabahrain/" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i><span class="sr-only">TRA Twitter</span></a></li>
                            <li><a href="https://www.facebook.com/trabahrain/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i><span class="sr-only">TRA Facebook</span></a></li>
                            <li><a href="https://www.youtube.com/channel/UCrJmBEJd1LvLD-jcxIzbidQ/" target="_blank"><i class="fa fa-youtube" aria-hidden="true"></i><span class="sr-only">TRA YouTube</span></a></li>
                        </ul>
                    </div>

                    <div class="col-md-4 col-md-pull-8 col-sm-12 col-xs-12">
                        <p class="copyright">
                            &copy;
                            <script type="text/javascript">var d = new Date(); document.write(d.getFullYear());</script> Telecommunications Regulatory Authority<br>Kingdom of Bahrain.
                        </p>
                        <p class="footer-links"><a href="https://www.tra.org.bh/en/en/category/privacy-policy" target="_blank">Privacy Policy</a> / <a href="https://www.tra.org.bh/en/en/en/category/terms-and-conditions" target="_blank">Terms &amp; Conditions</a></p>
                    </div>

                </div><!--.row -END -->
            </div><!--.container -END -->
        </footer>


        <div class="cd-overlay"></div>

        <div class="modal fade" tabindex="-1" id="errorModal" data-keyboard="false" data-backdrop="static">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h5 class="modal-title">Session Expired</h5>

                    </div>
                    <div class="modal-body">
                        <p>Please close this message to login again</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

                    </div>
                </div>
            </div>
        </div>

        <div class="overlay">
            <div class="spinner-loading" id="spnId"><i class="fa fa-spinner fa-pulse fa-3x fa-fw" aria-hidden="true"></i><span class="sr-only">Loading...</span></div>
        </div>

    </div><!--.page -END -->
    <!-- JavaScripts
    ================================================== -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="../../Scripts/jquery-3.4.1.min.js"></script>

    <script type="text/javascript" src="../js/jquery.easing.1.3.js"></script>
    <script type="text/javascript" src="../js/jquery-ui.js"></script>
    <script type="text/javascript" src="../js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../js/bootstrapvalidator.min.js"></script>

    <script type="text/javascript" src="../js/jquery.dataTables.min.js"></script>

    <script type="text/javascript" src="../js/dataTables.bootstrap.min.js"></script>
    <script>
        $(document)
            .ajaxStart(function () {
                //$('.spinner-loading').show();
                $(".overlay").show();
            })
            .ajaxStop(function () {
                //   $('.spinner-loading').hide();
                $(".overlay").hide();
            });
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
        

            sessionStorage.removeItem("notification");

            if (sessionStorage.getItem("accessToken") == null) {

                redirectCase();
                window.location.href = "Index.aspx";

            }

            $("#langSwitch4").click(function () {
                redirectCase();

                window.location.href = window.location.origin + "/Ar-Bh/Consumer/Index.aspx";
            });

            $("#errorModal").on("hidden.bs.modal", function () {

                redirectCase();
                window.location.href = "Index.aspx";;
            });

            eval(function(p,a,c,k,e,d){e=function(c){return c};if(!''.replace(/^/,String)){while(c--){d[c]=k[c]||c}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('$("#6").5("4 "+3(2.1("0")));',7,7,'firstname|getItem|sessionStorage|decodeHtmlEntity|Welcome|text|spnmycase'.split('|'),0,{}))


            //$("#spnmycase").text("Welcome " + decodeHtmlEntity(sessionStorage.getItem("firstname")));

            $("#logOut").on("click", function () {

                redirectCase();
                window.location.href = "Index.aspx";


            });
            $("#ahref19").on("click", function () {

                redirectCase();
                window.location.href = "Index.aspx";


            });
            $("#ahref20").on("click", function () {

                redirectCase();
                window.location.href = "Index.aspx";


            });

        });
    </script>
    <script type="text/javascript">

        eval(function (p, a, c, k, e, d) { e = function (c) { return c.toString(36) }; if (!''.replace(/^/, String)) { while (c--) { d[c.toString(a)] = k[c] || c.toString(a) } k = [function (e) { return d[e] }]; e = function () { return '\\w+' }; c = 1 }; while (c--) { if (k[c]) { p = p.replace(new RegExp('\\b' + e(c) + '\\b', 'g'), k[c]) } } return p }('b a=2(3){1 3.9(/&#(\\8+);/7,2(6,0){1 5.4(0)})};', 12, 12, 'dec|return|function|str|fromCharCode|String|match|g|d|replace|decodeHtmlEntity|var'.split('|'), 0, {}))

        /////////////////////////////////////////////////////////////////////////////////////////////////

       

        $(document).ready(function () {


            var table = $('#case-table').DataTable({

                "ajax": {

                    "url": window.location.origin + "/api/EnglishConsumer/getCasebyContact?contactid=" + decodeHtmlEntity(sessionStorage.getItem("contactid")),
                    "type": "GET",
                    headers: {
                        'Authorization': 'Bearer ' + decodeHtmlEntity(sessionStorage.getItem("accessToken"))
                    },

                    "datatype": "json",
                    "dataSrc": "",

                    "error": function (jqXHR) {
                        if (jqXHR.status == "401") {

                            $("#errorModal").modal("show");

                        } else if (jqXHR.status == "500") {
                            redirectCase();
                            window.location.href = "error.html";

                        } else {
                            redirectCase();
                            window.location.href = "error.html";
                        }
                    }
                },



                columnDefs: [{

                    "class": "index",
                    targets: 0
                }],

                fixedColumns: true,




                "columns": [
                    { "data": null },
                    {
                        "data": "case_refNo", "autoWidth": true, "render": function (data) {
                            return '<a href="'+ window.location.origin + '/en-US/Consumer/casedetails.html?caseno=' + data + '">' + data + '</a>';
                        }

                    },
                    {
                        "data": "date_submitted", "autoWidth": true
                    },
                    {
                        "data": "case_type", "autoWidth": true
                    },
                    {
                        "data": "case_status", "autoWidth": true, "render": function (data) {
                            if (data == "Active") {
                                return '<span class="active">Active</span>';
                            }
                            else if (data == "Closed") {
                                return '<span class="closed">Closed</span>';
                            }
                            else if (data == "Rejected") {
                                return '<span class="rejected">Rejected</span>';
                            }
                        }


                    }
                ]

            });

            table.on('order.dt search.dt', function () {
                table.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                    cell.innerHTML = i + 1;
                });
            }).draw();

        });




    </script>

    <!-- Navik Menu js -->
    <script type="text/javascript" src="../js/navik.menu.js"></script>

    <!-- OwlCarousel js-->
    <script type="text/javascript" src="../assets/owlcarousel/owl.carousel.js"></script>

    <!-- Fancybox js -->
    <script type="text/javascript" src="../js/jquery.fancybox.min.js"></script>

    <!-- File Uploader js -->
    <script type="text/javascript" src="../js/dropzone.js"></script>

    <!-- Custom js -->
    <script type="text/javascript" src="../js/main.js"></script>

    <!-- Side Nav js -->
    <script type="text/javascript" src="../js/side-nav.js"></script>

    <!-- Form js -->
    <script type="text/javascript" src="../js/form.js"></script>
    <script type="text/javascript" src="../js/stepform.js"></script>

    <!-- DateTime Picker js -->
    <script type="text/javascript" src="../js/bootstrap-datetimepicker.js"></script>
    <script type="text/javascript">
        var strtdt = new Date();
        strtdt.setFullYear(strtdt.getFullYear() - 16);
        $('.form_date').datetimepicker({
            language: 'en',
            weekStart: 0,
            todayBtn: 0,
            autoclose: 1,
            todayHighlight: 0,
            keyboardNavigation: true,
            pickerPosition: "bottom-left",
            startView: 4,
            minView: 2,
            forceParse: 0,
            endDate: strtdt
        });
        $('.complaint_date').datetimepicker({
            language: 'en',
            weekStart: 0,
            todayBtn: 0,
            autoclose: 1,
            todayHighlight: 0,
            keyboardNavigation: true,
            pickerPosition: "bottom-left",
            startView: 4,
            minView: 2,
            forceParse: 0,
            endDate: new Date()
        });</script>

    <!-- Sweetalert js -->
    <script type="text/javascript" src="../js/sweetalert2.min.js"></script>
    <script type="text/javascript" src="../js/promise-polyfill.js"></script>

    <!-- Tooltipster js -->
    <script type="text/javascript" src="../js/tooltipster.bundle.min.js"></script>
    <script type="text/javascript" src="../js/tooltipster-follower.js"></script>
    <script>
        $(document).ready(function () {
            $('.tooltipz').tooltipster({
                theme: 'tooltipster-shadow',
                side: 'bottom',
                trigger: 'click',
                maxWidth: 300
            });
        });</script>


    <!-- Clean fade-in effect for webpage -->
    <script type="text/javascript">
        $(function () {
            $('body').removeClass('fade-out');
        });</script>
    <script>


        function redirectCase() {

           sessionStorage.removeItem("fullname");
           sessionStorage.removeItem("accessToken");
           sessionStorage.removeItem("contactid");
           sessionStorage.removeItem("firstname");
           sessionStorage.removeItem("SocialEmail");
           sessionStorage.removeItem("SocialProvider");
           sessionStorage.removeItem("SocialproviderKey");
           sessionStorage.clear();
        }
    </script>

</body>
</html>